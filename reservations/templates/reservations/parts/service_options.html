{% comment %}
Ce template partiel génère les options de service en fonction du véhicule sélectionné
Il est chargé par HTMX lors du changement de véhicule
{% endcomment %}

<label for="id_service" class="form-label fw-bold">Service</label>
<div class="input-group">
    <span class="input-group-text"><i class="fas fa-wrench"></i></span>
    <select name="service" id="id_service" class="form-select" required>
        {% if services %}
            <option value="">-- Sélectionnez un service --</option>
            {% for service in services %}
                <option value="{{ service.id }}" data-duree="{{ service.duree }}" data-prix="{{ service.prix }}">
                    {{ service.nom }} ({{ service.prix }} €)
                </option>
            {% endfor %}
        {% else %}
            <option value="">-- Choisissez d'abord un véhicule --</option>
        {% endif %}
    </select>
    <div class="invalid-feedback">Veuillez sélectionner un service</div>
</div>
<div id="service-details" class="form-text mt-2"></div>